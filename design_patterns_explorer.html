<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Design Patterns & Analytics Explorer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .instructions {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #3498db;
        }

        .instructions h3 {
            color: #2980b9;
            margin-bottom: 10px;
        }

        .instructions p {
            color: #34495e;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .view-toggle {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .view-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
            background: #ecf0f1;
            color: #2c3e50;
        }

        .view-btn.active {
            background: #3498db;
            color: white;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);
        }

        .view-btn:hover {
            transform: translateY(-2px);
        }

        /* Pattern Grid View */
        .patterns-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .pattern-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 3px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
        }

        .pattern-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.2);
        }

        .pattern-card.selected {
            border-color: #3498db;
            background: #e8f4f8;
        }

        .pattern-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .pattern-icon {
            font-size: 2em;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
        }

        .pattern-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
        }

        .pattern-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .pattern-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }

        .tag {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
        }

        .tag.scale {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .tag.complexity {
            background: #fff3e0;
            color: #e65100;
        }

        .tag.theory {
            background: #f3e5f5;
            color: #6a1b9a;
        }

        .expand-btn {
            width: 100%;
            padding: 10px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .expand-btn:hover {
            background: #2980b9;
        }

        /* Detail View */
        .detail-view {
            display: none;
        }

        .detail-view.active {
            display: block;
        }

        .pattern-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .pattern-tab {
            padding: 10px 20px;
            border: 2px solid #3498db;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            background: white;
            color: #3498db;
        }

        .pattern-tab.active {
            background: #3498db;
            color: white;
        }

        .pattern-tab:hover {
            transform: scale(1.05);
        }

        .detail-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .detail-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .detail-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .detail-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-icon {
            font-size: 1.5em;
        }

        .example-box {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
        }

        .example-box h4 {
            color: #2980b9;
            margin-bottom: 10px;
        }

        .analytics-list {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
        }

        .analytics-list li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .insight-example {
            background: #fff9e6;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #f39c12;
        }

        .insight-example strong {
            color: #d68910;
        }

        .tradeoffs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .tradeoff-box {
            padding: 15px;
            border-radius: 8px;
        }

        .tradeoff-box.pros {
            background: #d5f4e6;
            border-left: 4px solid #27ae60;
        }

        .tradeoff-box.cons {
            background: #fadbd8;
            border-left: 4px solid #e74c3c;
        }

        .tradeoff-box h4 {
            margin-bottom: 10px;
        }

        .tradeoff-box ul {
            list-style-position: inside;
        }

        .implementation-note {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #2196f3;
        }

        /* Comparison View */
        .comparison-view {
            display: none;
        }

        .comparison-view.active {
            display: block;
        }

        .comparison-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .comparison-selector {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .comparison-selector label {
            font-weight: bold;
            color: #2c3e50;
        }

        .comparison-selector select {
            padding: 10px;
            border: 2px solid #3498db;
            border-radius: 8px;
            font-size: 1em;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .comparison-table th {
            background: #3498db;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
            vertical-align: top;
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .criterion-label {
            font-weight: bold;
            color: #2c3e50;
        }

        /* Reflection Section */
        .reflection-section {
            background: #fff9e6;
            padding: 25px;
            border-radius: 12px;
            margin-top: 30px;
            border: 2px dashed #f39c12;
        }

        .reflection-section h3 {
            color: #d68910;
            margin-bottom: 15px;
        }

        .reflection-prompts {
            display: grid;
            gap: 15px;
        }

        .reflection-prompt {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #f39c12;
        }

        .reflection-prompt h4 {
            color: #d68910;
            margin-bottom: 10px;
        }

        .reflection-input {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-family: inherit;
            font-size: 1em;
            resize: vertical;
        }

        .reflection-input:focus {
            outline: none;
            border-color: #f39c12;
        }

        .save-btn {
            margin-top: 15px;
            padding: 12px 30px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            transition: all 0.3s;
        }

        .save-btn:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        /* Quick Reference Guide */
        .quick-reference {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-top: 30px;
        }

        .quick-reference h3 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .reference-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .reference-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .reference-card strong {
            color: #2980b9;
            display: block;
            margin-bottom: 8px;
        }

        @media (max-width: 768px) {
            .patterns-grid {
                grid-template-columns: 1fr;
            }

            .tradeoffs {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® Learning Design Patterns & Analytics Explorer</h1>
        <p class="subtitle">Discover how instructional design choices enable learning analytics</p>

        <div class="instructions">
            <h3>üìã How to Use This Tool:</h3>
            <p><strong>Explore Mode:</strong> Click on any design pattern card to see examples and analytics implications</p>
            <p><strong>Detail Mode:</strong> Deep dive into each pattern with examples, insights, and tradeoffs</p>
            <p><strong>Compare Mode:</strong> Compare two patterns side-by-side to understand differences</p>
            <p><strong>Reflect:</strong> Use the reflection prompts to connect patterns to your teaching context</p>
        </div>

        <div class="view-toggle">
            <button class="view-btn active" onclick="switchView('explore')">üîç Explore Patterns</button>
            <button class="view-btn" onclick="switchView('detail')">üìñ Detailed View</button>
            <button class="view-btn" onclick="switchView('compare')">‚öñÔ∏è Compare Patterns</button>
        </div>

        <!-- EXPLORE VIEW -->
        <div id="exploreView" class="explore-view">
            <div class="patterns-grid" id="patternsGrid"></div>
        </div>

        <!-- DETAIL VIEW -->
        <div id="detailView" class="detail-view">
            <div class="pattern-selector" id="patternTabs"></div>
            <div id="detailContent"></div>
        </div>

        <!-- COMPARISON VIEW -->
        <div id="compareView" class="comparison-view">
            <div class="comparison-controls">
                <div class="comparison-selector">
                    <label>First Pattern:</label>
                    <select id="comparePattern1" onchange="updateComparison()">
                        <option value="">Select a pattern...</option>
                    </select>
                </div>
                <div class="comparison-selector">
                    <label>Second Pattern:</label>
                    <select id="comparePattern2" onchange="updateComparison()">
                        <option value="">Select a pattern...</option>
                    </select>
                </div>
            </div>
            <div id="comparisonTable"></div>
        </div>

        <!-- REFLECTION SECTION -->
        <div class="reflection-section">
            <h3>üí≠ Reflection & Application</h3>
            <div class="reflection-prompts">
                <div class="reflection-prompt">
                    <h4>1. Which pattern best fits your teaching context?</h4>
                    <textarea class="reflection-input" id="reflection1" placeholder="Consider your class size, subject matter, student level, and available resources..."></textarea>
                </div>
                <div class="reflection-prompt">
                    <h4>2. What would you need to implement this pattern?</h4>
                    <textarea class="reflection-input" id="reflection2" placeholder="Think about time, tools, training, institutional support..."></textarea>
                </div>
                <div class="reflection-prompt">
                    <h4>3. What ethical concerns would you need to address?</h4>
                    <textarea class="reflection-input" id="reflection3" placeholder="Consider privacy, consent, equity, transparency..."></textarea>
                </div>
            </div>
            <button class="save-btn" onclick="saveReflections()">üíæ Save My Reflections</button>
        </div>

        <!-- QUICK REFERENCE -->
        <div class="quick-reference">
            <h3>üìö Quick Reference: Design ‚Üí Analytics Connections</h3>
            <div class="reference-grid">
                <div class="reference-card">
                    <strong>To analyze participation equity:</strong>
                    Use structured discussions with role-based participation
                </div>
                <div class="reference-card">
                    <strong>To predict student success:</strong>
                    Use formative assessment sequences with regular data points
                </div>
                <div class="reference-card">
                    <strong>To understand learning process:</strong>
                    Use visible revision with version tracking
                </div>
                <div class="reference-card">
                    <strong>To identify misconceptions:</strong>
                    Use adaptive pathways with diagnostic branching
                </div>
                <div class="reference-card">
                    <strong>To assess social learning:</strong>
                    Use collaborative knowledge building with contribution tracking
                </div>
                <div class="reference-card">
                    <strong>To develop metacognition:</strong>
                    Use reflective practice with structured prompts
                </div>
            </div>
        </div>
    </div>

    <script>
        // Pattern Data
        const patterns = [
            {
                id: 'formative',
                icon: 'üìä',
                color: '#3498db',
                title: 'Formative Assessment Sequences',
                description: 'Frequent, low-stakes assessments building toward high-stakes evaluations',
                scale: 'Small to Large',
                complexity: 'Medium',
                theory: 'Cognitivism, Mastery Learning',
                design: {
                    elements: [
                        'Weekly or bi-weekly quizzes',
                        'Progressive difficulty levels',
                        'Immediate or quick feedback',
                        'Clear mastery criteria',
                        'Opportunities for revision'
                    ],
                    example: 'In an introductory statistics course: diagnostic quiz (Week 1), four concept quizzes covering specific topics, two synthesis quizzes integrating concepts, midterm, final exam. Each quiz provides immediate feedback with explanations.'
                },
                analytics: {
                    enabled: [
                        'Error pattern analysis across assessments',
                        'Mastery progression tracking over time',
                        'Optimal spacing and difficulty calibration',
                        'Individual learning trajectory modeling',
                        'Prerequisite gap identification'
                    ],
                    insights: [
                        'If 80% miss Question 5 on Quiz 2 about confidence intervals, add scaffolding before Quiz 3',
                        'Students who score <60% on Quiz 1 are 85% likely to struggle on midterm ‚Üí trigger early intervention',
                        'Three-day spacing between quizzes shows better retention than seven-day spacing',
                        'Students who attempt quizzes multiple times (with practice versions) outperform one-attempt students by 15%'
                    ]
                },
                tradeoffs: {
                    pros: [
                        'Rich longitudinal data on learning progression',
                        'Early identification of struggling students',
                        'Clear feedback loops for instructor adjustment',
                        'Students appreciate knowing where they stand'
                    ],
                    cons: [
                        'Assessment fatigue for students',
                        'High grading workload without automation',
                        'Risk of teaching to the assessments',
                        'May increase student anxiety',
                        'Requires careful sequencing and alignment'
                    ]
                },
                implementation: {
                    requirements: 'LMS with quiz functionality, question bank development time, automated grading for scalability, clear rubrics',
                    bestFor: 'Skills-based courses, STEM subjects, large enrollment courses, online/hybrid formats',
                    cautions: 'Ensure assessments measure understanding not just recall. Provide practice opportunities. Consider stakes and anxiety.'
                }
            },
            {
                id: 'discussion',
                icon: 'üí¨',
                color: '#27ae60',
                title: 'Structured Discussion Protocols',
                description: 'Role-based participation frameworks with clear discourse expectations',
                scale: 'Small to Medium',
                complexity: 'High',
                theory: 'Social Constructivism',
                design: {
                    elements: [
                        'Assigned discussion roles (questioner, synthesizer, connector, challenger)',
                        'Sentence stems or discourse move templates',
                        'Phased participation (initial posts, then responses)',
                        'Peer evaluation of contributions',
                        'Rotating role assignments'
                    ],
                    example: 'Literature seminar: Each week, 4 students have assigned roles. Questioner poses 2 interpretive questions by Tuesday. Evidence-provider shares 3 textual passages by Wednesday. Synthesizer connects to previous readings by Thursday. Challenger offers alternative interpretation by Friday. All others respond to at least two role-holders.'
                },
                analytics: {
                    enabled: [
                        'Participation equity metrics (who speaks, when, how much)',
                        'Discourse move analysis (question types, argumentation patterns)',
                        'Network analysis of reply patterns',
                        'Conceptual development tracking through posts',
                        'Role effectiveness evaluation'
                    ],
                    insights: [
                        '"Questioners" consistently ask surface-level recall questions rather than analytical questions ‚Üí Revise role description with examples',
                        'Three students receive 60% of all replies, indicating centralization ‚Üí Implement reply distribution requirements',
                        'Posts using sentence stems show 40% more evidence citations than unstructured posts',
                        'Peer evaluations of "connector" role correlate with final exam synthesis questions (r=0.72)'
                    ]
                },
                tradeoffs: {
                    pros: [
                        'Makes thinking visible in detail',
                        'Promotes equity in participation',
                        'Develops specific discourse competencies',
                        'Rich data on conceptual understanding',
                        'Explicit skill development'
                    ],
                    cons: [
                        'Can feel artificial or constraining',
                        'High cognitive load for students',
                        'Requires extensive instructor modeling',
                        'May reduce spontaneous discussion',
                        'Complex to analyze without automation',
                        'Some students resist "forced" participation'
                    ]
                },
                implementation: {
                    requirements: 'Discussion forum tool, clear role descriptions with examples, rubrics for each role, time for modeling and practice',
                    bestFor: 'Humanities and social sciences, small-medium courses (15-40 students), discussion-based pedagogies',
                    cautions: 'Introduce gradually. Model extensively. Allow flexibility for authentic conversation. Avoid over-structuring.'
                }
            },
            {
                id: 'revision',
                icon: '‚úèÔ∏è',
                color: '#9b59b6',
                title: 'Visible Revision Processes',
                description: 'Multiple drafts with version history and feedback integration tracking',
                scale: 'Small to Medium',
                complexity: 'Medium',
                theory: 'Cognitivism, Writing Process Theory',
                design: {
                    elements: [
                        'Multiple required drafts (not optional)',
                        'Version tracking enabled (Google Docs, Track Changes)',
                        'Specific feedback on each draft',
                        'Revision plans or memos explaining changes',
                        'Evaluation of revision quality, not just final product'
                    ],
                    example: 'Research paper assignment: (1) Thesis and outline draft with instructor feedback, (2) Full draft with peer review, (3) Revised draft with instructor comments, (4) Final submission with revision memo explaining what changed and why. All drafts in Google Docs with visible edit history.'
                },
                analytics: {
                    enabled: [
                        'Revision strategy identification (surface vs. substantive)',
                        'Feedback uptake analysis (which comments lead to changes)',
                        'Time investment tracking (when and how long students work)',
                        'Writing development patterns over semester',
                        'Peer feedback quality assessment'
                    ],
                    insights: [
                        '70% of revisions are copy-editing (grammar/spelling) rather than substantive reorganization ‚Üí Explicitly teach substantive revision strategies',
                        'Students who revise within 48 hours of receiving feedback show better uptake than those waiting longer',
                        'High-stakes grades correlate with procrastination (editing in final 6 hours) ‚Üí Consider deadline structure',
                        'Students incorporate 85% of instructor comments but only 40% of peer comments ‚Üí Improve peer feedback training'
                    ]
                },
                tradeoffs: {
                    pros: [
                        'Process becomes visible and teachable',
                        'Identifies specific student challenges',
                        'Prevents plagiarism (authentic development visible)',
                        'Feedback can be targeted to process not just product',
                        'Students learn revision is essential to writing'
                    ],
                    cons: [
                        'Multiple drafts = multiple grading cycles',
                        'Students may not engage authentically with feedback',
                        'Version history can feel surveillance-like',
                        'Technical barriers for some students',
                        'Difficult to analyze without automated tools'
                    ]
                },
                implementation: {
                    requirements: 'Collaborative writing tool (Google Docs, Word with Track Changes), clear revision rubrics, time for multiple feedback cycles',
                    bestFor: 'Writing-intensive courses, project-based learning, courses emphasizing process over product',
                    cautions: 'Frame version tracking as developmental tool not surveillance. Teach revision strategies explicitly. Provide time between drafts.'
                }
            },
            {
                id: 'collaborative',
                icon: 'ü§ù',
                color: '#e74c3c',
                title: 'Collaborative Knowledge Building',
                description: 'Shared artifacts with transparent individual contributions',
                scale: 'Small to Medium',
                complexity: 'High',
                theory: 'Social Constructivism, Communities of Practice',
                design: {
                    elements: [
                        'Shared knowledge artifacts (wikis, concept maps, annotated bibliographies)',
                        'Individual contributions tracked and visible',
                        'Building on others\' work explicitly required',
                        'Collective evaluation of artifact quality',
                        'Progressive development over time'
                    ],
                    example: 'Class wiki on research methods: Each student contributes 2 method descriptions, expands 2 others, creates 1 comparison table, adds examples to 3 entries. All edits timestamped and attributed. Final product used as shared study resource.'
                },
                analytics: {
                    enabled: [
                        'Contribution equity (quantity and quality)',
                        'Knowledge network development (who builds on whom)',
                        'Community formation patterns',
                        'Conceptual coverage gaps',
                        'Temporal patterns of engagement'
                    ],
                    insights: [
                        'Five students contribute 75% of original content but rarely edit others ‚Üí Require editing as separate requirement',
                        'Contributions cluster in final week ‚Üí Implement milestone checkpoints',
                        'Students who expand others\' entries (vs. only creating new ones) show deeper exam performance',
                        'Network analysis shows three isolated sub-groups ‚Üí Strategically assign cross-group editing tasks'
                    ]
                },
                tradeoffs: {
                    pros: [
                        'Collective intelligence emerges',
                        'Clear accountability with attribution',
                        'Social learning made visible',
                        'Authentic collaborative experience',
                        'Reduces duplication of effort'
                    ],
                    cons: [
                        'Free-rider problem persists',
                        'Quality control challenges',
                        'Requires significant student autonomy',
                        'Can amplify inequities (confident students dominate)',
                        'Difficult to grade individually',
                        'Technical literacy required'
                    ]
                },
                implementation: {
                    requirements: 'Wiki or collaborative platform, clear contribution expectations, rubrics for individual and collective work, monitoring tools',
                    bestFor: 'Upper-level courses, knowledge-compilation tasks, courses with collaborative epistemology',
                    cautions: 'Establish norms early. Model building-on behavior. Address inequity proactively. Provide structure for autonomy.'
                }
            },
            {
                id: 'adaptive',
                icon: 'üîÄ',
                color: '#f39c12',
                title: 'Adaptive Pathways',
                description: 'Branching content and activities based on diagnostic assessments',
                scale: 'Medium to Large',
                complexity: 'High',
                theory: 'Cognitivism, Zone of Proximal Development',
                design: {
                    elements: [
                        'Initial diagnostic assessment',
                        'Multiple content pathways (remedial, standard, advanced)',
                        'Decision rules for routing students',
                        'Regular checkpoints for re-routing',
                        'Differentiated assessments by pathway'
                    ],
                    example: 'Algebra course: Diagnostic test on Day 1 assesses prerequisite knowledge. Students scoring <60% receive remedial pathway with review modules and extra practice. Students scoring 60-85% receive standard pathway. Students scoring >85% receive accelerated pathway with enrichment problems. All pathways assessed on same core competencies.'
                },
                analytics: {
                    enabled: [
                        'Pathway effectiveness comparison (learning gains by route)',
                        'Optimal difficulty calibration',
                        'Misconception pattern identification',
                        'Transition point optimization (when to move students)',
                        'Predictive validity of diagnostic'
                    ],
                    insights: [
                        'Students in remedial pathway reach standard pathway outcomes by Week 8 (no significant final exam difference)',
                        'Accelerated pathway students complete in 70% of time with equal mastery',
                        'Students who transition from remedial to standard mid-semester show 20% higher persistence than those who stay remedial',
                        'Diagnostic test incorrectly routes 15% of students ‚Üí refine cut-scores or assessment'
                    ]
                },
                tradeoffs: {
                    pros: [
                        'Meets students where they are',
                        'Efficient use of time (no boredom or overwhelm)',
                        'Clear data on pathway effectiveness',
                        'Can reduce achievement gaps',
                        'Personalization at scale'
                    ],
                    cons: [
                        'Risk of tracking/stigma (being placed in "slow" group)',
                        'Requires extensive content development',
                        'Diagnostic assessment must be valid and reliable',
                        'Students may not understand why they\'re routed',
                        'Logistical complexity',
                        'Harder to build class community with different paths'
                    ]
                },
                implementation: {
                    requirements: 'Adaptive platform or LMS with conditional release, validated diagnostic, multiple content sets, clear decision rules',
                    bestFor: 'Skills-based subjects with clear prerequisite structure, large courses, online or hybrid format, heterogeneous student preparation',
                    cautions: 'Ensure pathways lead to same core competencies. Avoid permanent tracking. Build in transition points. Communicate rationale transparently.'
                }
            },
            {
                id: 'reflective',
                icon: 'ü™û',
                color: '#1abc9c',
                title: 'Reflective Practice Prompts',
                description: 'Regular metacognitive journaling with structured guidance',
                scale: 'Any Size',
                complexity: 'Low',
                theory: 'Metacognition, Reflective Practice',
                design: {
                    elements: [
                        'Regular reflection assignments (weekly or after major tasks)',
                        'Structured prompts targeting specific metacognitive processes',
                        'Private or semi-private sharing options',
                        'Instructor feedback on metacognitive development',
                        'Progressive sophistication of prompts'
                    ],
                    example: 'Weekly 5-minute reflection in problem-solving course: (1) What problem-solving strategies did you try this week? (2) Which worked well? Which didn\'t? (3) What would you do differently next time? (4) What do you feel confident about? What confuses you? Submitted via LMS, instructor reads and responds to patterns.'
                },
                analytics: {
                    enabled: [
                        'Strategy awareness development over time',
                        'Confidence calibration (actual vs. perceived understanding)',
                        'Help-seeking patterns',
                        'Growth mindset indicators',
                        'Emotional trajectory through course',
                        'Text analysis for concerning patterns (hopelessness, disengagement)'
                    ],
                    insights: [
                        'Students consistently overestimate understanding before exams ‚Üí Add calibration exercises (practice tests with confidence ratings)',
                        'Text analysis flags three students expressing hopelessness ‚Üí Reach out proactively',
                        'High performers reflect on specific strategies; low performers write vague generalizations ‚Üí Teach concrete reflection practices',
                        'Confidence dips in Week 7 (mid-semester slump) across 80% of students ‚Üí Build in support/motivation activities'
                    ]
                },
                tradeoffs: {
                    pros: [
                        'Develops metacognitive awareness',
                        'Early identification of struggles',
                        'Humanizes student experience',
                        'Low technical barrier',
                        'Scalable to any class size',
                        'Rich qualitative data'
                    ],
                    cons: [
                        'Students may write what they think instructor wants',
                        'Time-consuming to read without text analysis',
                        'Requires trust and psychological safety',
                        'Some students resist "touchy-feely" reflection',
                        'Grading reflection is philosophically complex',
                        'Privacy concerns with data analysis'
                    ]
                },
                implementation: {
                    requirements: 'Minimal - LMS text submission or discussion board, clear prompts, grading approach (completion vs. quality)',
                    bestFor: 'Any course where metacognition matters, especially challenging courses, helps students learn to learn',
                    cautions: 'Establish purpose clearly. Ensure privacy. Grade on engagement not "correctness". Respond to concerning patterns. Use text analysis ethically.'
                }
            }
        ];

        let currentView = 'explore';
        let selectedPatternDetail = 'formative';

        // Initialize
        function init() {
            renderExploreView();
            renderDetailView();
            populateComparisonSelectors();
        }

        // Render Explore View
        function renderExploreView() {
            const grid = document.getElementById('patternsGrid');
            grid.innerHTML = patterns.map(pattern => `
                <div class="pattern-card" onclick="expandPattern('${pattern.id}')">
                    <div class="pattern-header">
                        <div class="pattern-icon" style="background: ${pattern.color}20;">${pattern.icon}</div>
                        <div class="pattern-title">${pattern.title}</div>
                    </div>
                    <div class="pattern-description">${pattern.description}</div>
                    <div class="pattern-tags">
                        <span class="tag scale">üìè ${pattern.scale}</span>
                        <span class="tag complexity">‚öôÔ∏è ${pattern.complexity}</span>
                        <span class="tag theory">üìö ${pattern.theory}</span>
                    </div>
                    <button class="expand-btn">Explore This Pattern ‚Üí</button>
                </div>
            `).join('');
        }

        // Render Detail View
        function renderDetailView() {
            // Create tabs
            const tabs = document.getElementById('patternTabs');
            tabs.innerHTML = patterns.map(p => `
                <div class="pattern-tab ${p.id === selectedPatternDetail ? 'active' : ''}" 
                     onclick="selectPatternDetail('${p.id}')">
                    ${p.icon} ${p.title.split(' ')[0]}
                </div>
            `).join('');

            // Create content
            const content = document.getElementById('detailContent');
            content.innerHTML = patterns.map(pattern => `
                <div class="detail-content ${pattern.id === selectedPatternDetail ? 'active' : ''}" 
                     id="detail-${pattern.id}">
                    
                    <div class="detail-section">
                        <h3><span class="section-icon">üé®</span>Design Elements</h3>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            ${pattern.design.elements.map(e => `<li>${e}</li>`).join('')}
                        </ul>
                        <div class="example-box">
                            <h4>Example Implementation:</h4>
                            <p>${pattern.design.example}</p>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h3><span class="section-icon">üìä</span>Analytics Enabled</h3>
                        <div class="analytics-list">
                            <strong>This design pattern enables you to measure:</strong>
                            <ul style="margin-left: 20px; margin-top: 10px;">
                                ${pattern.analytics.enabled.map(a => `<li>${a}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="insight-example">
                            <strong>Example Insights from Analytics:</strong>
                            ${pattern.analytics.insights.map(insight => `
                                <p style="margin-top: 10px;">üí° ${insight}</p>
                            `).join('')}
                        </div>
                    </div>

                    <div class="detail-section">
                        <h3><span class="section-icon">‚öñÔ∏è</span>Tradeoffs to Consider</h3>
                        <div class="tradeoffs">
                            <div class="tradeoff-box pros">
                                <h4>‚úÖ Advantages</h4>
                                <ul>
                                    ${pattern.tradeoffs.pros.map(p => `<li>${p}</li>`).join('')}
                                </ul>
                            </div>
                            <div class="tradeoff-box cons">
                                <h4>‚ö†Ô∏è Challenges</h4>
                                <ul>
                                    ${pattern.tradeoffs.cons.map(c => `<li>${c}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h3><span class="section-icon">üîß</span>Implementation Guide</h3>
                        <div class="implementation-note">
                            <strong>What You'll Need:</strong>
                            <p style="margin-top: 10px;">${pattern.implementation.requirements}</p>
                        </div>
                        <div class="implementation-note">
                            <strong>Best Fit For:</strong>
                            <p style="margin-top: 10px;">${pattern.implementation.bestFor}</p>
                        </div>
                        <div class="implementation-note" style="background: #fff3e0; border-color: #f39c12;">
                            <strong>‚ö†Ô∏è Important Cautions:</strong>
                            <p style="margin-top: 10px;">${pattern.implementation.cautions}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Populate comparison selectors
        function populateComparisonSelectors() {
            const options = patterns.map(p => 
                `<option value="${p.id}">${p.icon} ${p.title}</option>`
            ).join('');
            
            document.getElementById('comparePattern1').innerHTML = 
                '<option value="">Select a pattern...</option>' + options;
            document.getElementById('comparePattern2').innerHTML = 
                '<option value="">Select a pattern...</option>' + options;
        }

        // Switch main view
        function switchView(view) {
            currentView = view;
            
            // Update buttons
            document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update views
            document.getElementById('exploreView').style.display = view === 'explore' ? 'block' : 'none';
            document.getElementById('detailView').classList.toggle('active', view === 'detail');
            document.getElementById('compareView').classList.toggle('active', view === 'compare');
        }

        // Expand pattern from explore view
        function expandPattern(id) {
            selectedPatternDetail = id;
            switchView('detail');
            selectPatternDetail(id);
            document.querySelectorAll('.view-btn')[1].click();
        }

        // Select pattern in detail view
        function selectPatternDetail(id) {
            selectedPatternDetail = id;
            
            // Update tabs
            document.querySelectorAll('.pattern-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update content
            document.querySelectorAll('.detail-content').forEach(content => content.classList.remove('active'));
            document.getElementById(`detail-${id}`).classList.add('active');
        }

        // Update comparison
        function updateComparison() {
            const id1 = document.getElementById('comparePattern1').value;
            const id2 = document.getElementById('comparePattern2').value;
            const tableDiv = document.getElementById('comparisonTable');

            if (!id1 || !id2) {
                tableDiv.innerHTML = '<p style="text-align: center; color: #7f8c8d; padding: 40px;">Select two patterns to compare</p>';
                return;
            }

            if (id1 === id2) {
                tableDiv.innerHTML = '<p style="text-align: center; color: #e74c3c; padding: 40px;">Please select two different patterns</p>';
                return;
            }

            const p1 = patterns.find(p => p.id === id1);
            const p2 = patterns.find(p => p.id === id2);

            tableDiv.innerHTML = `
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th style="width: 25%">Criterion</th>
                            <th>${p1.icon} ${p1.title}</th>
                            <th>${p2.icon} ${p2.title}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="criterion-label">Description</td>
                            <td>${p1.description}</td>
                            <td>${p2.description}</td>
                        </tr>
                        <tr>
                            <td class="criterion-label">Best Class Size</td>
                            <td>${p1.scale}</td>
                            <td>${p2.scale}</td>
                        </tr>
                        <tr>
                            <td class="criterion-label">Implementation Complexity</td>
                            <td>${p1.complexity}</td>
                            <td>${p2.complexity}</td>
                        </tr>
                        <tr>
                            <td class="criterion-label">Theoretical Foundation</td>
                            <td>${p1.theory}</td>
                            <td>${p2.theory}</td>
                        </tr>
                        <tr>
                            <td class="criterion-label">Analytics Enabled</td>
                            <td><ul style="margin-left: 15px;">${p1.analytics.enabled.slice(0,3).map(a => `<li>${a}</li>`).join('')}</ul></td>
                            <td><ul style="margin-left: 15px;">${p2.analytics.enabled.slice(0,3).map(a => `<li>${a}</li>`).join('')}</ul></td>
                        </tr>
                        <tr>
                            <td class="criterion-label">Key Advantages</td>
                            <td><ul style="margin-left: 15px;">${p1.tradeoffs.pros.slice(0,3).map(a => `<li>${a}</li>`).join('')}</ul></td>
                            <td><ul style="margin-left: 15px;">${p2.tradeoffs.pros.slice(0,3).map(a => `<li>${a}</li>`).join('')}</ul></td>
                        </tr>
                        <tr>
                            <td class="criterion-label">Main Challenges</td>
                            <td><ul style="margin-left: 15px;">${p1.tradeoffs.cons.slice(0,3).map(c => `<li>${c}</li>`).join('')}</ul></td>
                            <td><ul style="margin-left: 15px;">${p2.tradeoffs.cons.slice(0,3).map(c => `<li>${c}</li>`).join('')}</ul></td>
                        </tr>
                        <tr>
                            <td class="criterion-label">Best For</td>
                            <td>${p1.implementation.bestFor}</td>
                            <td>${p2.implementation.bestFor}</td>
                        </tr>
                    </tbody>
                </table>
            `;
        }

        // Save reflections
        function saveReflections() {
            const r1 = document.getElementById('reflection1').value;
            const r2 = document.getElementById('reflection2').value;
            const r3 = document.getElementById('reflection3').value;

            if (!r1 && !r2 && !r3) {
                alert('Please write at least one reflection before saving.');
                return;
            }

            const reflections = {
                timestamp: new Date().toISOString(),
                pattern_fit: r1,
                implementation_needs: r2,
                ethical_concerns: r3
            };

            // Save to localStorage
            localStorage.setItem('designPatternReflections', JSON.stringify(reflections));

            // Download as text file
            const text = `Learning Design Patterns - Personal Reflections
Generated: ${new Date().toLocaleString()}

1. Which pattern best fits your teaching context?
${r1 || '(Not answered)'}

2. What would you need to implement this pattern?
${r2 || '(Not answered)'}

3. What ethical concerns would you need to address?
${r3 || '(Not answered)'}
`;

            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'design_patterns_reflection.txt';
            a.click();
            URL.revokeObjectURL(url);

            alert('‚úÖ Reflections saved! A text file has been downloaded to your computer.');
        }

        // Load saved reflections on page load
        function loadSavedReflections() {
            const saved = localStorage.getItem('designPatternReflections');
            if (saved) {
                const reflections = JSON.parse(saved);
                document.getElementById('reflection1').value = reflections.pattern_fit || '';
                document.getElementById('reflection2').value = reflections.implementation_needs || '';
                document.getElementById('reflection3').value = reflections.ethical_concerns || '';
            }
        }

        // Initialize on load
        window.onload = function() {
            init();
            loadSavedReflections();
        };
    </script>
</body>
</html>